import{m,a as v,_,o as i,c as n,b as s,d as r,w as $,e as k,v as D,V as S,f as b,g as w,F as N,r as P,t as g,n as C,h as L,i as h}from"./index-B9llPwwl.js";import{D as M}from"./DrugModal-Dmb6hwHr.js";const y={name:"DrugSearch",computed:{...m(["products","productsDetail","bookmarks"]),...v(["isLogin"])},data:()=>({searchString:""}),methods:{search(){this.$emit("setSearchString",this.searchString)}}},O={class:""},V={class:"search-wrap"};function B(t,o,d,p,u,a){return i(),n("div",O,[s("div",V,[r(w,{onSubmit:b(a.search,["prevent"]),id:"search"},{default:$(()=>[k(s("input",{type:"text",class:"search-input",label:"검색어",placeholder:"검색어를 입력하세요","onUpdate:modelValue":o[0]||(o[0]=e=>t.searchString=e)},null,512),[[D,t.searchString]]),r(S,{variant:"plain",icon:"mdi-magnify","aria-label":"search",class:"search-btn"})]),_:1},8,["onSubmit"])])])}const R=_(y,[["render",B],["__scopeId","data-v-b338adb1"]]),x={name:"DrugList",computed:{...m(["products","productsDetail","bookmarks"]),...v(["isLogin"])},methods:{modalShow(t){this.$store.commit("setProductsDetail",t),this.$store.commit("setModalShow",!0)},async setBookmark(t,o){if(!this.isLogin){alert("로그인 해주세요."),this.$router.push("/login");return}t.target.classList.contains("active")?(t.target.classList.remove("active"),await this.$store.dispatch("DELETE_BOOKMARKS",o)):(t.target.classList.add("active"),await this.$store.dispatch("ADD_BOOKMARKS",o))}}},z={class:"list-wrap"},A={key:0,id:"list"},E=["data-idx","data-bizrno"],F={class:"thumbnail"},K=["onClick"],T=["src","alt"],U={class:"info-wrap"},I=["onClick"],j={class:"company"},G={class:"ttl"},H={class:"desc"},Q={class:"ico"},q={key:1,id:"nodata"};function J(t,o,d,p,u,a){return i(),n("div",z,[t.products.length?(i(),n("ul",A,[(i(!0),n(N,null,P(t.products,(e,l)=>(i(),n("li",{key:l,"data-idx":l,"data-bizrno":e.bizrno},[s("div",F,[s("a",{href:"javascript:;",onClick:c=>{a.modalShow(e)}},[s("img",{src:e.itemImage,alt:e.itemName},null,8,T)],8,K)]),s("div",U,[s("a",{href:"javascript:;",onClick:c=>{a.modalShow(e)}},[s("p",j,g(e.entpName),1),s("p",G,g(e.itemName),1),s("p",H,g(e.efcyQesitm),1)],8,I)]),s("div",Q,[r(S,{variant:"plain",size:"x-small",class:C({bookmark:!0,active:e.bookmark}),onClick:c=>a.setBookmark(c,e)},null,8,["class","onClick"])])],8,E))),128))])):(i(),n("div",q," 리스트가 없습니다. "))])}const W=_(x,[["render",J],["__scopeId","data-v-e424d444"]]),X={name:"PageNation",computed:{...m(["pageNo","numOfRows","totalCount"])},methods:{onPageChange(t){this.$emit("movepage",t)}}},Y={id:"pagination"};function Z(t,o,d,p,u,a){return i(),n("div",Y,[r(L,{"v-model":t.pageNo,length:t.totalCount,rounded:"circle","total-visible":5,"onUpdate:modelValue":a.onPageChange},null,8,["v-model","length","onUpdate:modelValue"])])}const tt=_(X,[["render",Z]]),et={name:"MainPage",components:{DrugSearch:R,DrugList:W,DrugModal:M,PagiNation:tt},computed:{...m(["bookmarks","products","modalShow","numOfRows"])},data:()=>({pageNo:1,searchString:""}),methods:{movepage(t){this.pageNo=t,this.setProducts()},setSearchString(t){this.searchString=t,this.setProducts()},async setProducts(){const t={pageNo:this.pageNo,numOfRows:this.numOfRows,itemName:this.searchString};this.$store.dispatch("FETCH_PRODUCTS",t)}},created(){this.setProducts()},updated(){this.setProducts()}};function st(t,o,d,p,u,a){const e=h("DrugSearch"),l=h("DrugList"),c=h("PagiNation"),f=h("DrugModal");return i(),n("div",null,[r(e,{onSetSearchString:a.setSearchString},null,8,["onSetSearchString"]),r(l),r(c,{onMovepage:a.movepage},null,8,["onMovepage"]),r(f)])}const it=_(et,[["render",st]]);export{it as default};
